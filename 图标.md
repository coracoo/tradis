# 前端图标统一方案（Icon Strategy）

## 目标
- 全局统一图标来源与用法，消除硬编码图片路径与多套风格混用
- 基于语义（函数名、按钮名、功能名）自动选择与映射图标
- 可维护、可扩展、可树摇的按需使用

## 推荐库
- 选型：unplugin-icons（基于 Iconify，聚合 200+ 图标集）
  - 优势：覆盖面最广、按需自动导入、支持 Vue 3 + Vite
  - 可用集合：ep（Element Plus）、mdi（Material Design Icons）、lucide、simple-icons（品牌/服务）
- 兼容：保留 Element Plus 图标作为通用 UI 行为的首选集（ep）

## 集成方案
- 安装依赖（示例）

```bash
pnpm add -D unplugin-icons @iconify-json/ep @iconify-json/mdi @iconify-json/lucide @iconify-json/simple-icons
```

- 在 Vite 中启用（vite.config.js）

```js
import Icons from 'unplugin-icons/vite'
import IconsResolver from 'unplugin-icons/resolver'
import Components from 'unplugin-vue-components/vite'

export default {
  plugins: [
    Components({
      resolvers: [
        IconsResolver({
          prefix: 'Icon',
          // 首选 ep（Element Plus），其次 mdi/lucide/simple-icons
          enabledCollections: ['ep', 'mdi', 'lucide', 'simple-icons']
        })
      ]
    }),
    Icons({ autoInstall: true })
  ]
}
```

- 使用方式（组件自动导入）
  - 通用 UI：`<IconEpSearch />`、`<IconEpRefresh />`、`<IconEpDelete />`
  - 领域/品牌：`<IconMdiDocker />`、`<IconMdiLan />`、`<IconSimpleIconsGithub />`

## 命名与选择规范
- 语义优先：名字 → 图标
  - 页面/模块：overview、containers、images、volumes、networks、compose、projects、navigation、settings、ports
  - 动作/函数：start、stop、restart、edit、delete、refresh、logs、terminal、search、download、info
- 集合优先级
  - 通用 UI：ep（Element Plus）
  - 领域/品牌：mdi 或 simple-icons（如 Docker、GitHub）
  - 无合适图标时：lucide 兜底
- 组件命名规则
  - `<IconEpXxx />`、`<IconMdiXxx />`、`<IconLucideXxx />`、`<IconSimpleIconsXxx />`

## 语义映射清单（初版）
- 页面/功能
  - overview → IconEpOdometer
  - containers → IconEpBox
  - images → IconEpPicture
  - volumes → IconEpFiles
  - networks → IconMdiLan
  - compose → IconEpFolder
  - projects → IconEpFolder
  - navigation → IconEpOperation
  - settings → IconEpSetting
  - ports → IconMdiLan
  - docker → IconMdiDocker（或 IconSimpleIconsDocker）
- 动作/状态
  - start → IconEpVideoPlay
  - stop → IconEpVideoPause
  - restart/refresh → IconEpRefresh
  - edit → IconEpEdit
  - delete → IconEpDelete
  - logs → IconEpDocument
  - terminal → IconEpMonitor
  - search → IconEpSearch
  - download → IconEpDownload
  - info → IconEpInfoFilled
  - success → IconEpCircleCheckFilled
  - error → IconEpCircleCloseFilled
  - warning → IconEpWarningFilled

## 替换范围与扫描结果（优先队列）
- 图片/硬编码路径（需替换或保留为“应用 Logo”场景）
  - `AppSidebar.vue`：`/icons/clay/*` 路由→图标映射
  - `Overview.vue`：系统资源图标 `/icons/clay/cpu.jpg|memory.jpg|storage.jpg`
  - `Navigation.vue`：`resolveIconUrl()` 支持 `clay:*` 与本地 `/icons/clay/*` 图片
- 组件内图标（Element Plus 原生，建议过渡到 Icon 组件统一风格）
  - `Compose.vue`：Search/Refresh/Plus/ArrowDown/Connection/Platform/Monitor/Document/VideoPlay/VideoPause/Edit/MoreFilled 等
  - `AppStore.vue`：Search/Download/InfoFilled/ArrowLeft/ArrowRight 等
  - `Overview.vue`：Monitor/CircleCheckFilled/CircleCloseFilled/Files/Collection/Connection 等
  - 其他页面：Docker.vue、Images.vue、Volumes.vue、Networks.vue、Ports.vue、ProjectDetail.vue、DockerDetail.vue、ContainerLogs.vue、AppHeader.vue

参考文件：
- [AppSidebar.vue](file:///home/cherry/tradis/client/frontend/src/components/AppSidebar.vue)
- [Overview.vue](file:///home/cherry/tradis/client/frontend/src/views/Overview.vue#L110-L120)
- [Navigation.vue](file:///home/cherry/tradis/client/frontend/src/views/Navigation.vue#L236-L246)
- [Compose.vue](file:///home/cherry/tradis/client/frontend/src/views/Compose.vue#L14-L42)
- [AppStore.vue](file:///home/cherry/tradis/client/frontend/src/views/AppStore.vue#L60-L90)
- [layout.css](file:///home/cherry/tradis/client/frontend/src/assets/css/layout.css#L720-L760)

## 迁移策略
- 第一步：在 Vite 集成 unplugin-icons，提供统一 `<Icon*>` 组件用法
- 第二步：建立 `iconsMap`（src/shared/icons.ts）将“页面/动作语义”映射到具体组件名
- 第三步：替换硬编码图片 `/icons/clay/*` 为语义图标（保留 App Logo 场景的图片）
- 第四步：统一大小与颜色（使用全局变量，如 `--el-text-color-*`、`--clay-*`）
- 第五步：在 Navigation/AppSidebar 提供可配置覆盖，保留用户自定义图标能力

## 注意事项
- AppStore 的应用 Logo 属于“品牌图标/图片”，保留图片显示，不纳入统一替换
- 运行时自定义（如 Navigation 的 `mdi-` 输入）可通过 Iconify 动态组件替换，逐步收敛
- 保持 Element Plus 的信息提示/状态图标风格一致，避免混杂

## 验收标准
- 所有页面与按钮图标来源统一为 `<Icon*>` 组件
- 无 `/icons/clay/*` 的新硬编码路径（除 App Logo）
- 新增功能均通过 `iconsMap` 选择图标，未出现散落的 import 与 `<el-icon>` 直用

